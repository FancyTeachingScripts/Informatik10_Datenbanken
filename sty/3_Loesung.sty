\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{sty/3_Loesung}[]

\ProcessOptions\relax


\newcounter{lsgcount}
\setcounter{lsgcount}{0}

\providecommand{\LSG}[1]{
    \ifbeamer
        \stepcounter{lsgcount}
        \onslide<\value{lsgcount}-> 
            {{
                \color{\LFarbe}
                \renewcommand{\umldrawcolor}{\LFarbe}
                \renewcommand{\umltextcolor}{\LFarbe}
                \fontspec{Comic Sans MS} 
                #1
                \renewcommand{\umldrawcolor}{\TFarbe}
                \renewcommand{\umltextcolor}{\TFarbe}
            }}%
    \else
        { 
            \color{\LFarbe}
            \renewcommand{\umldrawcolor}{\LFarbe}
            \renewcommand{\umltextcolor}{\LFarbe}
            \fontspec{Comic Sans MS} 
            #1
            \renewcommand{\umldrawcolor}{\TFarbe}
            \renewcommand{\umltextcolor}{\TFarbe}
        }
    \fi
}




%Befehl für ein Leerfeld mit fester höhe
\newcommand{\Leer}[1]{\vspace{#1}}
%Loesung ohne Platzhalter
\providecommand{\Loesung}[1]{}
\renewcommand{\Loesung}[1]{
	\ifloesung
      \LSG{#1}
	\fi
}

% Loesung, die normalen Text ersetzt
% \LoesungReplace{Lösungstext}{Originaltext}
\newcommand{\LoesungReplace}[2]{
    \ifloesung
      \LSG{#1}
    \else
	  #2
	\fi
}

%Loesung bzw. Leerfeld
\newcommand{\LoesungLeer}[2]{
	\ifloesung
      \LSG{#1}
    \else
	  \Leer{#2}
	\fi
}

% Verschiedene Bilder in Angabe und Loesung
\newcommand{\LoesungImg}[3]{
	\ifloesung
      \includegraphics[width=#3]{#1}
    \else
	  \includegraphics[width=#3]{#2}
	\fi
}
%Loesung für Lückentext
% \LoesungLuecke{Lösungstext}{Länge der Lücke}
\newcommand{\LoesungLuecke}[2]{
	\ifloesung
      \LSG{#1}
    \else
	  \noindent\rule{#2}{0.5pt}
	\fi
}
%Loesung bzw. Karo
\newcommand{\LoesungKaro}[2]{
    \ifloesung
        \LSG{#1}
    \else
        \kariert{#2}
    \fi
}


\newcommand{\LoesungTikz}[1]{
    \ifloesung
        \LSG{
            \begin{tikzpicture}[
                        % Define styles
                        box/.style={rectangle, draw=\LFarbe, very thick, rounded corners, minimum width=3cm, minimum height=1cm,  text centered, text=\LFarbe, font=\large},
                        oval/.style={ellipse, draw=\LFarbe, very thick, minimum width=3cm, minimum height=1.5cm, text centered, text=\LFarbe, font=\large},
                        arrow/.style={-Stealth, thick, draw=\LFarbe},
                        annotation/.style={text=colC!90!\LFarbe, font=\large}
                    ]
                    #1
            \end{tikzpicture}
        }
    \fi
}


%Loesung bzw. Karo
\newcommand{\LoesungKaroTikz}[2]{
    \ifloesung
        \LoesungTikz{#1}
    \else
        \kariert{#2}
    \fi
}


%Loesung bzw. Linien
\newcommand{\LoesungLine}[2]{
	\ifloesung
      \LSG{#1}
      
      \vspace{\baselineskip}
    \else
	  \liniert{#2}
	\fi
}

% Multiplechoice
\newcommand{\LoesungMulti}[1]{
\begin{description}
        #1
\end{description}
}

%Loesung in Mutliplechoice
\newcommand{\Lmulti}{
	\ifloesung
      \item[$\ast$]
    \else
	  \item[$\circ$]
	\fi
}


